(this["webpackJsonpwoolies-adjustment"]=this["webpackJsonpwoolies-adjustment"]||[]).push([[0],{109:function(e,t,a){e.exports=a(198)},197:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(31),o=a.n(r),c=a(10),u=a.n(c),s=a(8),m=a(13),i=a(16),d=a(32),p=a(209),E=a(100),f=a(14),h=a.n(f),v=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({payrollId:t}),e.prev=2,e.next=5,h.a.post("api/employee/validate",n,a);case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),"employee not found",e.abrupt("return","employee not found");case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t){return new Promise((function(a){if(e){var n=v(t);a(n||"error")}else a("error")}))},b=function(e){var t=e.values,a=e.handleNameeChange,r=e.nextStep,o=e.handleChange,c=Object(n.useState)({userName:null,alert:null}),d=Object(i.a)(c,2),f=d[0],h=d[1],v=t.payrollId,b=t.department,y=function(){var e=!0;null==v&&(h(Object(s.a)({},f,{alert:"Please enter your employee number."})),e=!1),null==b&&(h(Object(s.a)({},f,{alert:"Please select your department."})),e=!1),!0===e&&r()},j=function(){var e=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g(!0,v);case 3:"employee not found"===(n=e.sent)?console.log("Employee not found"):(f.userName=n.data.name,a(n.data.name)),y();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("section",null,null==f.alert?null:l.a.createElement("div",{class:"alert alert-danger",role:"alert"},f.alert,l.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(e){h(Object(s.a)({},f,{alert:null}))}},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement(p.a,{onSubmit:j},l.a.createElement(p.a.Group,{controlId:"validationCustomUsername"},l.a.createElement(p.a.Label,null,"Payroll Id"),l.a.createElement(p.a.Control,{type:"number",placeholder:"Eg: 1089634",onChange:o("payrollId"),defaultValue:t.payrollId}),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Please enter your payroll id")),l.a.createElement(p.a.Label,null,"Department"),l.a.createElement(p.a.Control,{as:"select",defaultValue:t.department,onChange:o("department")},l.a.createElement("option",null,"Select your department"),l.a.createElement("option",null,"Night_Fill"),l.a.createElement("option",null,"Service"),l.a.createElement("option",null,"Bakery"),l.a.createElement("option",null,"Others")),l.a.createElement("br",null),l.a.createElement(E.a,{type:"submit",variant:"primary"},"Continue")))},y=a(53),j=a.n(y),S=(a(135),function(e){var t=e.values,a=e.registered,r=e.nextStep,o=e.handleDate,c=t.enteredDate,f=Object(n.useState)({selectedDate:new Date,alert:null,name:null,payrollId:t.payrollId,phoneNumber:null,email:null,department:t.department}),v=Object(i.a)(f,2),g=v[0],b=v[1];Object(n.useEffect)((function(){}),[g.alert]);var y=function(e){e.preventDefault(),function(){var e=!0;null==c&&(e=!1,b(Object(s.a)({},g,{alert:"Please select date"}))),!0===e&&r()}()},S=function(e){b({selectedDate:e});var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),a=null;switch(e.getDay()){case 1:a="Monday";break;case 3:a="Wednesday";break;case 4:a="Thursday";break;case 5:a="Friday";break;case 6:a="Saturday";break;case 7:a="Sunday";break;default:a="Tuesday"}o(t,a)},k=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,l,r,o,c,m,i,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={headers:{"Content-Type":"application/json"}},console.log("reached handle submit"),l=g.name,r=g.payrollId,o=g.phoneNumber,c=g.email,m=g.department,i=JSON.stringify({name:l,payrollId:r,department:m,phoneNumber:o,email:c}),e.prev=5,e.next=8,h.a.post("api/employee/addEmployee",i,n);case 8:d=e.sent,console.log(d.status),200===d.status?(console.log("registeed from form 2"),a()):g.alert="User exists check the Payroll Id",e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(5),b(Object(s.a)({},g,{alert:"User exists! Please check the payroll Id"})),console.log(g.alert),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){return function(t){t.preventDefault(),b(Object(s.a)({},g,Object(d.a)({},e,t.target.value)))}};return l.a.createElement("div",null,null==g.alert?null:l.a.createElement("div",{class:"alert alert-danger",role:"alert"},g.alert,l.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(e){b(Object(s.a)({},g,{alert:null}))}},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")))," ",null==t.name?l.a.createElement("div",null,l.a.createElement("h1",null,"Looks like you are not registered,",l.a.createElement("br",null)),l.a.createElement(p.a,{onSubmit:k},l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,"Payroll Id"),l.a.createElement(p.a.Control,{type:"number",placeholder:"Eg: 1089634",onChange:D("payrollId"),defaultValue:t.payrollId})),l.a.createElement(p.a.Label,null,"Department"),l.a.createElement(p.a.Control,{as:"select",defaultValue:t.department,onChange:D("department")},l.a.createElement("option",null,"Select your department"),l.a.createElement("option",null,"Night_Fill"),l.a.createElement("option",null,"Service"),l.a.createElement("option",null,"Bakery"),l.a.createElement("option",null,"Others")),l.a.createElement(p.a.Group,{controlId:"formBasicEmail"},l.a.createElement(p.a.Label,null,"Email address"),l.a.createElement(p.a.Control,{type:"email",placeholder:"Enter email",onChange:D("email")})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,"Name"),l.a.createElement(p.a.Control,{type:"text",placeholder:"Shishir",onChange:D("name")})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,"Contact Number"),l.a.createElement(p.a.Control,{type:"text",placeholder:"0452445***",onChange:D("phoneNumber")})),l.a.createElement(E.a,{variant:"primary",type:"submit"},"Register"))):l.a.createElement("div",null,l.a.createElement("h1",null,"Hello ",t.name,", "),l.a.createElement(p.a,null,l.a.createElement(p.a.Label,null,"Please select date"),l.a.createElement("div",{class:"col-xs-6 col-sm-4"},l.a.createElement(j.a,{selected:g.selectedDate,onChange:S,date:new Date})),l.a.createElement(E.a,{onClick:y,variant:"primary"},"Continue"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("q",null,t.quote.text),l.a.createElement("p",null,"- ",t.quote.author)))))}),k=a(77),D=a.n(k),O=a(99),C=function(e){var t=e.nextStep,a=e.handleTtime,r=e.handleChange,o=(e.values,Object(n.useState)({alert:null,stateStartTime:null,stateEndTime:null})),c=Object(i.a)(o,2),u=c[0],m=c[1];return l.a.createElement("div",null,null==u.alert?null:l.a.createElement("div",{class:"alert alert-danger",role:"alert"},u.alert,l.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Save",onClick:function(e){m(Object(s.a)({},u,{alert:null}))}},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement(p.a.Label,null,"Adjust Start and End time"),l.a.createElement("br",null),l.a.createElement("h3",null,"Start Time "),l.a.createElement("div",{class:"react-time-picker_wrapper"},l.a.createElement(D.a,{onChange:function(e,t){m(Object(s.a)({},u,{stateStartTime:t})),a(t,u.stateEndTime)},style:{border:"2px solid #666",fontSize:42,width:121,padding:"5px 8px",color:"#333",borderRadius:3}})),l.a.createElement("br",null),l.a.createElement("h3",null,"End Time "),l.a.createElement(D.a,{onChange:function(e,t){m(Object(s.a)({},u,{stateEndTime:t})),a(u.stateStartTime,t)},style:{border:"2px solid #666",fontSize:42,width:121,padding:"5px 8px",color:"#333",borderRadius:3}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",null,"Comments "),l.a.createElement(O.a,{as:"textarea","aria-label":"With textarea",placeholder:"Please specify any breaks // add or RC",onChange:r("comment")}),l.a.createElement("br",null),l.a.createElement(E.a,{onClick:function(e){e.preventDefault(),function(){var e=!0;if(null==u.stateStartTime&&(e=!1,m(Object(s.a)({},u,{alert:"Please enter Start Time"}))),null==u.stateEndTime&&(e=!1,m(Object(s.a)({},u,{alert:"Please Enter End Time"}))),!0===e)return e}()&&t()},variant:"primary"},"Continue"))},x=function(e){var t=e.values,a=e.confirm,n=t.department,r=t.payrollId,o=t.name,c=t.enteredDate,u=t.enteredDay,s=t.stateStartTime,m=t.stateEndTime,i=t.comment;return l.a.createElement("div",null,"Adjustment Details:",l.a.createElement("p",null,l.a.createElement("strong",null,"Department :")," ",n),l.a.createElement("p",null,l.a.createElement("strong",null,"Name:")," ",o),l.a.createElement("p",null,l.a.createElement("strong",null,"Payroll Id:")," ",r),l.a.createElement("p",null,l.a.createElement("strong",null,"Entered Date:")," ",c),l.a.createElement("p",null,l.a.createElement("strong",null,"Entered Day:")," ",u),l.a.createElement("p",null,l.a.createElement("strong",null,"Start Time:")," ",s),l.a.createElement("p",null,l.a.createElement("strong",null,"End Time:")," ",m),l.a.createElement("p",null,l.a.createElement("strong",null,"Comments: ")," ",i),l.a.createElement(E.a,{onClick:function(e){e.preventDefault(),a()},variant:"primary"},"Save"))},w=function(){var e=Object(n.useState)({quote:null,alert:null,step:1,department:null,payrollId:null,name:null,enteredDate:null,enteredDay:"",stateStartTime:"",stateEndTime:"",comment:""}),t=Object(i.a)(e,2),a=t[0],r=t[1],o=a.step,c=a.department,p=a.payrollId,E=a.name,f=a.enteredDate,v=a.enteredDay,g=a.stateStartTime,y=a.stateEndTime,j=a.comment,k={quote:a.quote,step:o,department:c,payrollId:p,name:E,enteredDate:f,enteredDay:v,stateStartTime:g,stateEndTime:y,comment:j};Object(n.useEffect)((function(){D()}),[]);var D=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,h()({method:"GET",url:"https://type.fit/api/quotes"});case 4:n=e.sent,l=Math.floor(1500*Math.random()+1),t=n.data[l],r(Object(s.a)({},a,{quote:t})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(e){return function(t){t.preventDefault(),r(Object(s.a)({},a,Object(d.a)({},e,t.target.value)))}},w=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json"}},a=g,n=y,r=JSON.stringify({department:c,payrollId:p,name:E,enteredDate:f,enteredDay:v,startTime:a,endTime:n,comment:j}),e.prev=4,e.next=7,h.a.post("api/adjustment",r,t);case 7:o=e.sent,console.log(o),o&&console.log("success"),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",l.a.createElement("div",null,"Server error"));case 16:console.log("confirmed now make contact with the api"),I();case 18:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(Object(s.a)({},a,{step:o+1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();switch(o){case 1:return l.a.createElement("div",null,null==a.alert?null:l.a.createElement("div",{class:"alert alert-success",role:"alert"},a.alert,l.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(e){r(Object(s.a)({},a,{alert:null}))}},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement(b,{nextStep:I,handleChange:O,values:k,handleNameeChange:function(e){a.name=e}}));case 2:return l.a.createElement(S,{registered:function(){console.log("reached registered"),r(Object(s.a)({},a,{alert:"You have successfully registered",step:1}))},nextStep:I,handleDate:function(e,t){r(Object(s.a)({},a,{enteredDate:e,enteredDay:t}))},values:k});case 3:return l.a.createElement(C,{nextStep:I,handleTtime:function(e,t){r(Object(s.a)({},a,{stateStartTime:e,stateEndTime:t}))},handleChange:O,values:k});case 4:return l.a.createElement(x,{values:k,confirm:w});case 5:r({alert:"Adjustment saved Successfully",step:1,quote:null,department:null,payrollId:null,name:null,enteredDate:null,enteredDay:"",stateStartTime:"",stateEndTime:"",comment:""});break;default:return l.a.createElement("h1",null,"noform")}},I=a(210),T=a(208),N=function(e){var t=e.masterState,a=function(){localStorage.removeItem("token"),localStorage.removeItem("adjustmentDate"),localStorage.removeItem("user"),localStorage.removeItem("position")};return l.a.createElement("div",null,null==t.token?l.a.createElement(I.a,{bg:"dark",variant:"dark"},l.a.createElement(I.a.Brand,{href:"/"},"Woolworths Adjustment Sheet"),l.a.createElement(T.a,{title:"Action",id:"nav-dropdown"},l.a.createElement(T.a.Item,{eventKey:"4.1",href:"/login"},"Login"),l.a.createElement(T.a.Divider,null),l.a.createElement(T.a.Item,{eventKey:"4.4",href:"/"},"Home"))):l.a.createElement(I.a,{bg:"dark",variant:"dark"},l.a.createElement(I.a.Brand,{href:"/"},"Woolworths Adjustment Sheet"),l.a.createElement(T.a,{title:"Action",id:"nav-dropdown"},l.a.createElement(T.a.Item,{onClick:a,eventKey:"4.1",href:"/"},"logout"),l.a.createElement(T.a.Divider,null),l.a.createElement(T.a.Item,{href:"/",eventKey:"4.4"},"Home"),l.a.createElement(T.a.Divider,null),l.a.createElement(T.a.Item,{eventKey:"4.1",href:"/login"},"Dashboard"))))},P=a(212),L=a(42),B=function(e){var t=e.masterState,a=(e.setUser,e.setToken),r=e.setDate,o=(e.loadUser,Object(n.useState)({userName:null,userDepartment:null,payrollId:null,password:null,alert:null,formatted_date:null,selectedDate:new Date})),c=Object(i.a)(o,2),f=c[0],v=c[1];Object(n.useEffect)((function(){console.log(t.token),console.log("reached here at useeffect login"),localStorage.token&&t.token!==localStorage.token&&(console.log("loaded token from the localstorage from login use effect"),a(localStorage.token))}),[]);var g=function(){var e=Object(m.a)(u.a.mark((function e(n){var l,r,o,c,m,i,d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),l=!0,null!=f.password&&null!=f.payrollId||(v(Object(s.a)({},f,{alert:"Please fill the below credentials"})),l=!1),!0!==l){e.next=19;break}return r={headers:{"Content-Type":"application/json"}},o=f.payrollId,c=f.password,m=JSON.stringify({payrollId:o,password:c}),e.prev=8,e.next=11,h.a.post("/api/user/login",m,r);case 11:(i=e.sent)&&(d=i.data.token,localStorage.setItem("token",d),console.log("token set from submit fucntion in login js"),p=f.selectedDate.getFullYear()+"-"+(f.selectedDate.getMonth()+1)+"-"+f.selectedDate.getDate(),null===t.adjustmentDate&&(console.log("reached the localstorage date setting if statement"),localStorage.setItem("adjustmentDate",p)),a(d)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0),v(Object(s.a)({},f,{alert:"Invalid credentials"}));case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return function(t){t.preventDefault(),v(Object(s.a)({},f,Object(d.a)({},e,t.target.value)))}},y=function(e){var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();v(Object(s.a)({},f,{selectedDate:e,formatted_date:t})),localStorage.setItem("adjustmentDate",t),r(t)};return console.log("reached just before return "),console.log(t.user),l.a.createElement("div",null,null==f.alert?null:l.a.createElement("div",{class:"alert alert-danger",role:"alert"},f.alert,l.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(e){e.preventDefault(),v(Object(s.a)({},f,{alert:null}))}},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),null===t.token?l.a.createElement("div",null,l.a.createElement(P.a,null,l.a.createElement(P.a.Item,{href:"/"},"Home")),l.a.createElement(p.a,{onSubmit:g},l.a.createElement(p.a.Group,{controlId:"formBasicEmail"},l.a.createElement(p.a.Label,null,"Employee number"),l.a.createElement(p.a.Control,{onChange:b("payrollId"),type:"number",placeholder:"your id eg: 1089634"}),l.a.createElement(p.a.Text,{className:"text-muted"})),l.a.createElement(p.a.Group,{controlId:"formBasicPassword"},l.a.createElement(p.a.Label,null,"Password"),l.a.createElement(p.a.Control,{type:"password",placeholder:"Password",onChange:b("password")})),l.a.createElement(E.a,{variant:"primary",type:"submit"},"Submit"),l.a.createElement("br",null))):(null===t.user&&console.log("masterState user is null"),console.log(f.selectedDate),l.a.createElement("div",null,l.a.createElement(P.a,null,l.a.createElement(P.a.Item,{href:"/"},"Home")),l.a.createElement("strong",null,"Hi ",null!==t.user?t.user.name:"User"," ","Welcome to your Dashboard"),l.a.createElement("br",null),l.a.createElement(p.a.Label,null,"Pick date to get adjustmets"),l.a.createElement(p.a,{class:"col-xs-6 col-sm-4"},l.a.createElement(j.a,{selected:f.selectedDate,onChange:y,date:new Date}),l.a.createElement(E.a,{variant:"primary"},l.a.createElement(L.b,{class:"a-login",to:"/adjustment"},"Get adjustment list"))))))},q=function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h2",null,"Someone Looks lost!! "))},A=a(35),G=function(e){e?h.a.defaults.headers.common["x-auth-token"]=e:delete h.a.defaults.headers.common["x-auth-token"]},F=a(207),H=a(211),M=function(e){var t=Object(n.useState)({comment:null,addedDate:localStorage.adjustmentDate,addedBy:null}),a=Object(i.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)(Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"Content-Type":"application/json"}},G(localStorage.token),t="/api/comments/"+r.addedDate,e.prev=3,e.next=6,h.a.get(t);case 6:(a=e.sent)&&(console.log(a),a&&o(Object(s.a)({},r,{comment:a.data.comment}))),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])}))),[r.addedBy]);var c=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json"}},G(localStorage.token),a=r.comment+" end of comment.",n=r.addedDate,l=JSON.stringify({comment:a,addedDate:n}),e.prev=5,e.next=8,h.a.post("/api/comments/addComment",l,t);case 8:(o=e.sent)&&console.log(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement("h1",null,"Comments"),!0===e.editComment?(console.log(e),l.a.createElement("div",null,"comment when true",l.a.createElement(O.a,{as:"textarea","aria-label":"With textarea",value:"no comment"===r.comment?"Please add your comments here":r.comment,onChange:function(e){e.preventDefault(),o(Object(s.a)({},r,{comment:e.target.value}))}}),l.a.createElement("br",null),l.a.createElement(E.a,{onClick:c,variant:"primary"},"Continue"))):l.a.createElement("div",null,l.a.createElement(H.a,null,l.a.createElement(H.a.Header,null,"Comments from the Manager:"),l.a.createElement(H.a.Body,null,l.a.createElement(H.a.Text,null,r.comment)))))},V=function(e){var t=e.masterState,a=Object(n.useState)({adjustments:null,loading:!0,reload:!0,position:localStorage.position?localStorage.position:null}),r=Object(i.a)(a,2),o=r[0],c=r[1];Object(n.useEffect)((function(){d(),console.log("reached useeffect adjustment"),console.log(t.user)}),[o.reload]);var d=function(){var e=Object(m.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/adjustment/"+t.adjustmentDate+"/Night_Fill",e.prev=1,G(t.token),e.next=5,h.a.get(a);case 5:n=e.sent,null!=t.adjustmentDate&&c(Object(s.a)({},o,{adjustments:n.data,loading:!1})),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),console.log("loadadjuetment error "),e.abrupt("return",l.a.createElement("div",null,"Server error"));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._id,n="/api/adjustment/toggleVerify/"+a,e.next=4,h.a.get(n);case 4:o.reload?c(Object(s.a)({},o,{reload:!1})):c(Object(s.a)({},o,{reload:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._id,n="/api/adjustment/toggleStatus/toggle/"+a,e.next=4,h.a.get(n);case 4:o.reload?c(Object(s.a)({},o,{reload:!1})):c(Object(s.a)({},o,{reload:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.loading?l.a.createElement("div",null,"Loading..."):l.a.createElement("div",null,l.a.createElement(P.a,null,l.a.createElement(P.a.Item,{href:"/"},"Home"),l.a.createElement(P.a.Item,{href:"/login"},"Dashboard")),l.a.createElement("br",null),l.a.createElement("h1",null,"Adjustment for ",t.adjustmentDate),l.a.createElement(F.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Payroll Id"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Start Time"),l.a.createElement("th",null,"End Time"),l.a.createElement("th",null,"Comment"),l.a.createElement("th",null,"Verified"),"officer"===o.position?l.a.createElement("th",null,"Status"):null)),l.a.createElement("tbody",null,o.adjustments.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.payrollId),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.startTime),l.a.createElement("td",null,e.endTime),l.a.createElement("td",{class:""},e.comment),l.a.createElement("td",null,l.a.createElement(E.a,{onClick:function(){p(e)},variant:e.verrified?"success":"danger"},e.verrified?l.a.createElement("div",null,"Verified"):l.a.createElement("div",null,"Verify"))),"officer"===o.position?l.a.createElement("td",null,l.a.createElement(E.a,{onClick:function(){f(e)},variant:"adjusted"===e.status?"success":"danger"},"adjusted"===e.status?l.a.createElement("div",null,"Adjusted"):l.a.createElement("div",null,"Pending"))):null)})))),"officer"===o.position?(console.log("edit comment false"),l.a.createElement(M,{editComment:!1})):(console.log("edit comment true"),l.a.createElement(M,{editComment:!0})))},W=function(){var e=Object(n.useState)({token:localStorage.token?localStorage.token:null,adjustmentDate:localStorage.adjustmentDate?localStorage.adjustmentDate:null,user:localStorage.user?localStorage.user:null,position:localStorage.position?localStorage.position:null,userName:localStorage.userName?localStorage.userName:null}),t=Object(i.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){console.log("reached appjs use effect"),o()}),[]);var o=function(){c()},c=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(localStorage.token),e.prev=1,console.log("reached the loaduser"),e.next=5,h.a.get("/api/user/loaduser");case 5:t=e.sent,(n=t.data.user)?(localStorage.setItem("position",n.position),console.log(n),r(Object(s.a)({},a,{position:n.position,token:localStorage.token,user:n,adjustmentDate:localStorage.adjustmentDate}))):d(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("no token to load the user"),d();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),d=function(){console.log("logged out"),localStorage.clear()},p=function(e){c()},E=function(e){r(Object(s.a)({},a,{adjustmentDate:e}))};return l.a.createElement("section",{className:"container"},l.a.createElement("div",null,l.a.createElement(L.a,null,l.a.createElement(N,{masterState:a,setToken:p,setDate:E}),l.a.createElement(A.c,null,l.a.createElement(A.a,{exact:!0,path:"/",component:w}),l.a.createElement(A.a,{path:"/login",render:function(){return l.a.createElement(B,{masterState:a,setDate:E,setToken:p})}}),l.a.createElement(A.a,{path:"/adjustment",render:function(){return l.a.createElement(V,{masterState:a})}}),l.a.createElement(A.a,{component:q})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(196),a(197);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);
//# sourceMappingURL=main.b2956ff7.chunk.js.map